# AlphaFold3 Configuration

# ===== Output Configuration =====

input_csv: "/home/ssalike/Projects/acyl_transferase_SM/penicillin/trash/af3_standalone/apo_seq.csv"  # CSV with design_name, protein_sequence and optionally catres_design, catres_input columns
datadir: "/home/ssalike/Projects/acyl_transferase_SM/penicillin/trash/af3_standalone/try2/"
outdir: "./af3_output" # specific output directory, will be set in the pipeline script
specs_json: /home/ssalike/Projects/acyl_transferase_SM/penicillin/af3_inputs/winAS_pnG_specs2_af3.json
prefix: acyl  # Prefix for output files
suffix: try2
chunk: 1  # Number of sequences to process per job

# For use in pipeline script
skip_af3_jobs: False
cautious: true 

# ===== Paths Configuration =====
paths:
  process_script: "./util/process_csv_to_json.py"
  af3_container: "/home/ssalike/apptainer/mlfold3.sif"
  af3_script: "/home/ssalike/git/alphafold3/jake_run_af3.py"
  apptainer: "/home/ssalike/git/datahub_latest/datahub_2025-02-15.sif"

# ===== Ligand Configuration (will be loaded from specs_json)=====
ligand_data:
  ligands:
    - name: "penicillin"
      path: "/home/ssalike/Projects/acyl_transferase_SM/penicillin/trash/penicillin.cif"
      chain_id: "B"

# ===== Bond Configuration =====
bonds: ["A:CYS:142:SG", "B:pg$2:1:C8"]

ptm_json:
  - {"cid":"pg2", "res_idx":142}

# ===== Slurm Job Settings =====
slurm:
  J: null
  p: "gpu" # for the prediction jobs
  gres: "gpu:a4000:1" # for the prediction jobs
  submit: true
  in_proc: false
  keep_logs: true
  pre_process_locally: True

analyze_slurm: # for the analysis jobs
  J: null
  p: "cpu"
  submit: True
  in_proc: True
  keep_logs: true

# ===== States to process in pipeline =====
states: ["acyl", "apo"]

# ===== Analysis Configuration =====
analyze:
  update_contigs: true
  cautious: true
tmp_pre: af3_metrics

