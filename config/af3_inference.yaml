# AlphaFold3 Configuration

# ===== Output Configuration =====

input_csv: "/home/ssalike/Projects/acyl_transferase_SM/penicillin/trash/af3_standalone/placeholder.csv"  # CSV with design_name, protein_sequence and optionally catres_design, catres_input columns
datadir: "/home/ssalike/Projects/acyl_transferase_SM/penicillin/trash/cleo_tests6/"
outdir: "./af3_output" # specific output directory, will be set in the pipeline script
specs_json: /projects/ml/itopt/policy_mpnn/data/winAS_pnG_specs2_af3.json
prefix: acyl  # Prefix for output files
suffix: try2
chunk: 8  # Number of sequences to process per job

# For use in pipeline script
skip_af3_jobs: False
cautious: true 

# ===== Paths Configuration =====
paths:
  process_script: "./util/process_csv_to_json.py"
  af3_container: "/home/ssalike/apptainer/mlfold3.sif"
  af3_script: "/home/ssalike/git/alphafold3/jake_run_af3.py"
  apptainer: "/home/ssalike/git/datahub_latest/datahub_2025-02-15.sif"

# ===== Ligand Configuration (will be loaded from specs_json)=====
ligand_data:
  ligands:
    - name: "penicillin"
      path: "/home/ssalike/Projects/acyl_transferase_SM/penicillin/trash/penicillin.cif"
      chain_id: "B"

# ===== Bond Configuration =====
bonds: ["A:CYS:142:SG", "B:pg$2:1:C8"]

ptm_json:
  - {"cid":"pg2", "res_idx":142}

# ===== Slurm Job Settings =====
slurm:
  J: mpnn_policy_train
  p: "gpu-train" # for the prediction jobs
  gres: "gpu:h200:1" # for the prediction jobs
  submit: True
  in_proc: false # submits jobs to slurm for prediction
  keep_logs: true
  pre_process_locally: True # run on the current node

analyze_slurm: # for the analysis jobs
  J: null
  p: "cpu"
  submit: True
  in_proc: True # run on the current node
  keep_logs: true

# ===== States to process in pipeline =====
states: ["acyl"]

# ===== Analysis Configuration =====
analyze:
  update_contigs: false # relevant if you expect the contig positions to change 
  cautious: false
tmp_pre: af3_metrics

